<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Div außerhalb schließen</title>
<style>
  #popup {
    display: none; /* Anfangs versteckt */
    position: absolute;
    top: 50px;
    left: 50px;
    padding: 20px;
    background: #f0f0f0;
    border: 1px solid #ccc;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  button {
    margin: 20px;
  }
</style>
</head>
<body>

<button id="openBtn">Popup öffnen</button>

<div id="popup">
  <p>Dies ist ein Popup.</p>
  <p>Klicke außerhalb, um es zu schließen.</p>
</div>

<script>
  const popup = document.getElementById('popup');
  const openBtn = document.getElementById('openBtn');

  // Öffnet das Popup
  openBtn.addEventListener('click', (event) => {
    popup.style.display = 'block';
    event.stopPropagation(); // Verhindert, dass der Klick sofort wieder schließt
  });

  // Klick außerhalb erkennen
  document.addEventListener('click', (event) => {
    // Prüfen, ob der Klick NICHT im Popup oder auf dem Button war
    if (!popup.contains(event.target) && event.target !== openBtn) {
      popup.style.display = 'none';
    }
  });

  // Optional: ESC-Taste zum Schließen
  document.addEventListener('keydown', (event) => {
    if (event.key === 'Escape') {
      popup.style.display = 'none';
    }
  });
</script>

</body>
</html>
